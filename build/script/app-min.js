function getString(n){return new Promise(function(t,e){$.get(n).done(t).fail(e)})}function onReady(n){var t=1e3,e=50,i=0,a=[];for(insertDOM(clockify(n),n.length);a.length<n.length;)a.push(a.length);clearInterval(interval),interval=setInterval(animateLetters,t,e,function(){return++i},a)}function setup(){var n=location.search.slice(1);return getString("https://pizzatime-api.herokuapp.com/").then(function(t){return"surpriseme"===n?t.data:Promise.reject()}).catch(function(){return n||"pizzatime"}).then(onReady)}function animateLetter(n,t){var e=$(".num-"+n),i=e.clone();e.parent().append(i),e.animate({top:-t},function(){e.remove()}),i.animate({top:-t},function(){i.css({top:0})})}function animateLetters(n,t,e){var i=t();e.forEach(function(t){var e=Math.pow(3,t);i%e===0&&animateLetter(t,n)})}function clockify(n){for(var t=n.split(""),e=[];t.length;)e.unshift(t.pop()),t.length&&e.unshift(t.pop()),t.length&&e.unshift(":");return e.join("")}function insertDOM(n,t){var e=$(".clock");e.empty(),n.split("").forEach(function(n){":"===n?e.append('<div><span class="colon">:</span></div>'):e.append('<div><span class="digit num-'+--t+'">'+n+"</span></div>")})}var interval;$(document).ready(function(){onReady(location.search.slice(1)||"pizzatime"),setup(),$(window).blur(function(){clearInterval(interval)}),$(window).focus(function(){setup()})});